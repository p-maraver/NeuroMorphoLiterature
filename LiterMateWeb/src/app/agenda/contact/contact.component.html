<!--
  ~ Copyright (c) 2015-2022, Patricia Maraver
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      https://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<form [formGroup]="formGroup">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Author Contact Information</mat-card-title>
      <mat-card-subtitle>
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <mat-checkbox formControlName="unsubscribed">Unsubscribed</mat-checkbox>

      <mat-form-field class="full-width">
        <input matInput placeholder="FirstName" formControlName="firstName" required>
      </mat-form-field>
      <mat-form-field class="full-width">
        <input matInput placeholder="LastName" formControlName="lastName" required>
      </mat-form-field>

<!--      <div [ngClass]="formGroup.errors?.authorList? 'invalid': 'valid'">-->
<!--        <mat-hint *ngIf="formGroup.errors?.existEmail" align="end" class="alert-danger">At least one email required.-->
<!--        </mat-hint>-->
<!--        <mat-hint *ngIf="formGroup.errors?.validMail" align="end" class="alert-danger">Incorrect email format.-->
<!--        </mat-hint>-->
        <div formArrayName="emailList"
             *ngFor="let value of emailList.controls; let i = index">

          <ng-container [formGroupName]="i">
            <div fxLayout="row">

              <mat-form-field class="full-width">
                <input matInput placeholder="Email" formControlName="email" required>
              </mat-form-field>
              <mat-checkbox formControlName="bounced">Bounced</mat-checkbox>
              <button mat-button (click)="deleteEmail(i)">
                <mat-icon>delete_forever</mat-icon>
              </button>
            </div>
          </ng-container>

        </div>
<!--      </div>-->
      <button mat-button (click)="addEmail()">
        <mat-icon>library_add</mat-icon>
        Add new email
      </button>
    </mat-card-content>
    <div class="close">
      <button mat-button (click)="close()" >Close</button>
    </div>
    <div class="save">
      <button mat-button (click)="update()" [disabled]="formGroup.invalid">Save</button>
    </div>
  </mat-card>





</form>
